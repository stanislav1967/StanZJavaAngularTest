{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport { environment } from '../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class EnrollmentService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = `${environment.apiUrl}/enrollments`;\n  }\n  enrollStudentInCourse(enrollment) {\n    // Use the existing student enrollment endpoint\n    return this.http.post(`${environment.apiUrl}/api/students/${enrollment.studentId}/courses`, [enrollment.courseId]).pipe(map(() => new EnrollmentResponse(null, enrollment.studentId, enrollment.courseId, new Date().toISOString(), '',\n    // Will be populated by the component\n    '' // Will be populated by the component\n    )));\n  }\n  unenrollStudentFromCourse(studentId, courseId) {\n    return this.http.delete(`${this.apiUrl}/unenroll/${studentId}/${courseId}`);\n  }\n  getStudentEnrollments(studentId) {\n    return this.http.get(`${this.apiUrl}/student/${studentId}`);\n  }\n  getCourseEnrollments(courseId) {\n    return this.http.get(`${this.apiUrl}/course/${courseId}`);\n  }\n  getAllEnrollments() {\n    return this.http.get(this.apiUrl);\n  }\n  static {\n    this.ɵfac = function EnrollmentService_Factory(t) {\n      return new (t || EnrollmentService)(i0.ɵɵinject(i1.HttpClient));\n    };\n  }\n  static {\n    this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n      token: EnrollmentService,\n      factory: EnrollmentService.ɵfac,\n      providedIn: 'root'\n    });\n  }\n}","map":{"version":3,"names":["map","environment","EnrollmentService","constructor","http","apiUrl","enrollStudentInCourse","enrollment","post","studentId","courseId","pipe","EnrollmentResponse","Date","toISOString","unenrollStudentFromCourse","delete","getStudentEnrollments","get","getCourseEnrollments","getAllEnrollments","i0","ɵɵinject","i1","HttpClient","factory","ɵfac","providedIn"],"sources":["C:\\Users\\avrah\\OneDrive\\Work\\JavaAngularTest\\frontend\\src\\app\\services\\enrollment.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { environment } from '../../environments/environment';\r\n\r\nexport interface EnrollmentRequest {\r\n  studentId: number;\r\n  courseId: number;\r\n}\r\n\r\nexport interface EnrollmentResponse {\r\n  id: number;\r\n  studentId: number;\r\n  courseId: number;\r\n  enrolledAt: string;\r\n  studentName: string;\r\n  courseName: string;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EnrollmentService {\r\n  private apiUrl = `${environment.apiUrl}/enrollments`;\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  enrollStudentInCourse(enrollment: EnrollmentRequest): Observable<EnrollmentResponse> {\r\n    // Use the existing student enrollment endpoint\r\n    return this.http.post<void>(`${environment.apiUrl}/api/students/${enrollment.studentId}/courses`, [enrollment.courseId])\r\n      .pipe(\r\n        map(() => new EnrollmentResponse(\r\n          null,\r\n          enrollment.studentId,\r\n          enrollment.courseId,\r\n          new Date().toISOString(),\r\n          '', // Will be populated by the component\r\n          ''  // Will be populated by the component\r\n        ))\r\n      );\r\n  }\r\n\r\n  unenrollStudentFromCourse(studentId: number, courseId: number): Observable<void> {\r\n    return this.http.delete<void>(`${this.apiUrl}/unenroll/${studentId}/${courseId}`);\r\n  }\r\n\r\n  getStudentEnrollments(studentId: number): Observable<EnrollmentResponse[]> {\r\n    return this.http.get<EnrollmentResponse[]>(`${this.apiUrl}/student/${studentId}`);\r\n  }\r\n\r\n  getCourseEnrollments(courseId: number): Observable<EnrollmentResponse[]> {\r\n    return this.http.get<EnrollmentResponse[]>(`${this.apiUrl}/course/${courseId}`);\r\n  }\r\n\r\n  getAllEnrollments(): Observable<EnrollmentResponse[]> {\r\n    return this.http.get<EnrollmentResponse[]>(this.apiUrl);\r\n  }\r\n}\r\n"],"mappings":"AAGA,SAASA,GAAG,QAAQ,gBAAgB;AACpC,SAASC,WAAW,QAAQ,gCAAgC;;;AAmB5D,OAAM,MAAOC,iBAAiB;EAG5BC,YAAoBC,IAAgB;IAAhB,KAAAA,IAAI,GAAJA,IAAI;IAFhB,KAAAC,MAAM,GAAG,GAAGJ,WAAW,CAACI,MAAM,cAAc;EAEb;EAEvCC,qBAAqBA,CAACC,UAA6B;IACjD;IACA,OAAO,IAAI,CAACH,IAAI,CAACI,IAAI,CAAO,GAAGP,WAAW,CAACI,MAAM,iBAAiBE,UAAU,CAACE,SAAS,UAAU,EAAE,CAACF,UAAU,CAACG,QAAQ,CAAC,CAAC,CACrHC,IAAI,CACHX,GAAG,CAAC,MAAM,IAAIY,kBAAkB,CAC9B,IAAI,EACJL,UAAU,CAACE,SAAS,EACpBF,UAAU,CAACG,QAAQ,EACnB,IAAIG,IAAI,EAAE,CAACC,WAAW,EAAE,EACxB,EAAE;IAAE;IACJ,EAAE,CAAE;KACL,CAAC,CACH;EACL;EAEAC,yBAAyBA,CAACN,SAAiB,EAAEC,QAAgB;IAC3D,OAAO,IAAI,CAACN,IAAI,CAACY,MAAM,CAAO,GAAG,IAAI,CAACX,MAAM,aAAaI,SAAS,IAAIC,QAAQ,EAAE,CAAC;EACnF;EAEAO,qBAAqBA,CAACR,SAAiB;IACrC,OAAO,IAAI,CAACL,IAAI,CAACc,GAAG,CAAuB,GAAG,IAAI,CAACb,MAAM,YAAYI,SAAS,EAAE,CAAC;EACnF;EAEAU,oBAAoBA,CAACT,QAAgB;IACnC,OAAO,IAAI,CAACN,IAAI,CAACc,GAAG,CAAuB,GAAG,IAAI,CAACb,MAAM,WAAWK,QAAQ,EAAE,CAAC;EACjF;EAEAU,iBAAiBA,CAAA;IACf,OAAO,IAAI,CAAChB,IAAI,CAACc,GAAG,CAAuB,IAAI,CAACb,MAAM,CAAC;EACzD;;;uBAlCWH,iBAAiB,EAAAmB,EAAA,CAAAC,QAAA,CAAAC,EAAA,CAAAC,UAAA;IAAA;EAAA;;;aAAjBtB,iBAAiB;MAAAuB,OAAA,EAAjBvB,iBAAiB,CAAAwB,IAAA;MAAAC,UAAA,EAFhB;IAAM;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}